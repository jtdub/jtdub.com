---
layout: post
title: IOS Local Password Security Features
date: '2011-02-17T10:22:00.001-06:00'
author: jtdub
tags:
- IOS
- Security
- IOS Security
modified_time: '2019-04-11T11:09:45.889-05:00'
blogger_id: tag:blogger.com,1999:blog-2200496390325245811.post-1476585061739352253
blogger_orig_url: https://www.packetgeek.net/2011/02/ios-local-password-security-features_17.html
---

I've been studying some of the security features built in to IOS. These mostly have to do with physical security and local password security built into IOS.
<br/>
<br/>
For instance, a feature that I've used for several years is the "service password-encryption" command. This command takes the plain-text passwords located in AUX, CON, TTY ports, and enable password command and encrypts them with a password hash derived from Cisco. It's not perfect, but will do in a pinch. One thing that you will want to do immediately after executing a "service password-encryption" is executing a "show run". The reason behind this is that the passwords won't change from plain-text to encrypted until that happens.
<br/>
<br/>
<pre>Router(config)#service ?<br/>....<br/>  password-encryption    Encrypt system passwords<br/>....<br/></pre>
<br/>
If you are unable to protect your Cisco equipment physically, the best option is to disable the password recovery function. Be sure to have some other option to do password recoveries however, as you will not be able to do password recoveries from RMON.
<br/>
<br/>
This feature isn't listed as a command when executing a "?" command, but the command exists in IOS 12.3(14)T or newer.
<br/>
<br/>
Check out the documentation:
<a href="http://www.cisco.com/en/US/docs/ios/12_3/12_3y/12_3ya8/gtnsvpwd.html">
 no service password-recovery
</a>
<br/>
<br/>
<pre>Router(config)#no service ?<br/>  alignment              Control alignment correction and logging<br/>  compress-config        Compress the nvram configuration file<br/>  config                 TFTP load config files<br/>  dhcp                   Enable DHCP server and relay agent<br/>  disable-ip-fast-frag   Disable IP particle-based fast fragmentation<br/>  exec-callback          Enable exec callback<br/>  exec-wait              Delay EXEC startup on noisy lines<br/>  finger                 Allow responses to finger requests<br/>  hide-telnet-addresses  Hide destination addresses in telnet command<br/>  linenumber             enable line number banner for each exec<br/>  nagle                  Enable Nagle's congestion control algorithm<br/>  old-slip-prompts       Allow old scripts to operate with slip/ppp<br/>  pad                    Enable PAD commands<br/>  password-encryption    Encrypt system passwords<br/>  prompt                 Enable mode specific prompt<br/>  pt-vty-logging         Log significant VTY-Async events<br/>  sequence-numbers       Stamp logger messages with a sequence number<br/>  slave-log              Enable log capability of slave IPs<br/>  tcp-keepalives-in      Generate keepalives on idle incoming network<br/>                         connections<br/>  tcp-keepalives-out     Generate keepalives on idle outgoing network<br/>                         connections<br/><br/>Router(config)#no service password-recovery<br/>WARNING:<br/>Executing this command will disable password recovery me<br/>chanism.<br/>Do not execute this command without another plan for<br/>password recovery.<br/><br/>Are you sure you want to continue? [yes/no]:<br/></pre>
<br/>
Other options include encrypting the passwords in MD5 using the "secret" sub command. For instance, "enable secret" and username james secret t0ps3cr37pwd". Unfortunately, the "secret" sub command isn't available on the AUX, TTY, or CON ports.
<br/>
<br/>
You can also set up minimum password lengths and password retry limits.
<br/>
<br/>
<pre>Router(config)#security ?<br/>  authentication  Authentication security CLIs<br/>  passwords       Password security CLIs<br/><br/>Router(config)#security auth<br/>Router(config)#security authentication ?<br/>  failure  Authentication failure logging<br/><br/>Router(config)#security authentication fa<br/>Router(config)#security authentication failure ?<br/>  rate  Authentication failure threshold rate<br/><br/>Router(config)#security authentication failure ra<br/>Router(config)#security authentication failure rate ?<br/>  &lt;2-1024&gt;  Authentication failure threshold rate<br/><br/>Router(config)#security authentication failure rate 5 ?<br/>  log  log a message if the Authentication failures over the last one minute<br/>       equalled this number<br/><br/>Router(config)#security authentication failure rate 5 l<br/>Router(config)#security authentication failure rate 5 log ?<br/>  <cr><br/><br/>Router(config)#security pas<br/>Router(config)#security passwords ?<br/>  min-length  Minimum length of passwords<br/><br/>Router(config)#security passwords min<br/>Router(config)#security passwords min-length ?<br/>  &lt;0-16&gt;  Minimum length of all user/enable passwords<br/><br/>Router(config)#security passwords min-length 16 ?<br/>  <cr><br/><br/>Router(config)#enable ?<br/>  last-resort  Define enable action if no TACACS servers respond<br/>  password     Assign the privileged level password<br/>  secret       Assign the privileged level secret<br/>  use-tacacs   Use TACACS to check enable passwords<br/><br/>Router(config)#enable sec<br/>Router(config)#enable secret ?<br/>  0      Specifies an UNENCRYPTED password will follow<br/>  5      Specifies an ENCRYPTED secret will follow<br/>  LINE   The UNENCRYPTED (cleartext) 'enable' secret<br/>  level  Set exec level password<br/><br/>Router(config)#enable secret<br/></cr></cr></pre>