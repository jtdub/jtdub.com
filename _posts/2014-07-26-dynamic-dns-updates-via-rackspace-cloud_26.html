---
layout: post
title: Dynamic DNS Updates via the Rackspace Cloud DNS
date: '2014-07-26T12:22:00.001-05:00'
author: jtdub
tags:
- DNS
- Python Tips
- Bind
- Rackspace
modified_time: '2019-04-11T11:10:01.519-05:00'
blogger_id: tag:blogger.com,1999:blog-2200496390325245811.post-8594869568112068510
blogger_orig_url: https://www.packetgeek.net/2014/07/dynamic-dns-updates-via-rackspace-cloud_26.html
---

Do you remember the old days when dyndns.org offered free sub domains, that pointed to your home internet connection? This service allowed you to access your home computer remotely, by hostname, without the need of remembering your IP Address.<br/><br/>I wrote a python script that does something similar. It uses the Rackspace Cloud API to manage an DNS A record of a domain that you own and is hosted with Rackspace.<br/><br/>Below is the code:<br/><pre class="lang:default decode:true ">#!/usr/bin/env python<br/>import pyrax, urllib, socket<br/><br/>'''Variables'''<br/>username = '{USERNAME}'<br/>api_key = '{API_KEY}'<br/>domain_name = '{DOMAIN.COM}'<br/>record_id = '{RECORD_ID}'<br/>dyn_domain = '{DYNDNS_HOSTNAME}'<br/>debug = True<br/><br/>'''Do not change these variables'''<br/>ip = ''<br/>domain = ''<br/>record = ''<br/><br/>'''Functions'''<br/>def get_ip():<br/>	global ip, debug<br/>	ip = urllib.urlopen('http://icanhazip.com')<br/>	ip = ip.read()<br/>	ip = ip.strip("\n")<br/>	<br/>	if debug:<br/>		print "*** Current IP Address: %s" % ip<br/>	<br/>	return ip<br/>	<br/>def get_dyn_ip():<br/>	global ip, debug, dyn_domain<br/>	dyn_domain_ip = socket.gethostbyname(dyn_domain)<br/>	<br/>	if debug:<br/>		print "*** Current IP Address: %s" % ip<br/>		print "*** DNS A Record of %s: %s" % (dyn_domain, dyn_domain_ip)<br/>	<br/>	if ip == dyn_domain_ip:<br/>		if debug:<br/>			print "*** %s is already current for %s. Nothing to do." % (dyn_domain_ip, dyn_domain)<br/>		exit(1)<br/>	else:<br/>		update_domain(ip)<br/>	<br/>	return ip<br/><br/>def rax_auth(user, api):<br/>	global debug<br/>	<br/>	if debug:<br/>		print "*** Username: %s, API_Key: %s" % (user, api)<br/><br/>	pyrax.set_setting('identity_type', 'rackspace')<br/>	pyrax.set_credentials(user, api)<br/><br/>def get_domain(dns_domain, dns_record_id):<br/>	global debug, domain, record<br/><br/>	if debug:<br/>		print "*** Domain Name: %s, Record Id: %s" % (dns_domain, dns_record_id)<br/><br/>	domain = pyrax.cloud_dns.find(name=dns_domain)<br/>	record = domain.get_record(dns_record_id)<br/>	<br/>	return domain, record<br/><br/>def update_domain(ip):<br/>	global debug, username, api_key, domain_name, record_id<br/>	<br/>	rax_auth(username, api_key)<br/>	get_domain(domain_name, record_id)<br/>	if debug:<br/>		print "*** Updated IP Address: %s" % ip<br/>	record.update(data=ip)<br/><br/>'''Executing Functions'''<br/>get_ip()<br/>get_dyn_ip()</pre><br/>There are a couple things that still need to be added:<br/><ul><br/>	<li>Check to see if {dyn_domain} exists, if it doesn't, create it.</li><br/>	<li>Obtain the {record_id} automatically.</li><br/></ul><br/>Given that, the current limitations are:<br/><ul><br/>	<li>Your hostname, needs to already exist. The script will only update the hostname, not create it. Example: thisismyhomepc.example.com</li><br/>	<li>You have to obain the record ID by hand.</li><br/></ul><br/>In the examples, I'm going to be using CentOS 7. The first thing that I'm going to do is install EPEL, which will allow me to install the package 'pip'.<br/><pre class="lang:default decode:true ">[jtdub@pyrax-test ~]$ sudo rpm -ivh http://dl.fedoraproject.org/pub/epel/beta/7/x86_64/epel-release-7-0.2.noarch.rpm<br/>Retrieving http://dl.fedoraproject.org/pub/epel/beta/7/x86_64/epel-release-7-0.2.noarch.rpm<br/>warning: /var/tmp/rpm-tmp.tb0sU3: Header V3 RSA/SHA256 Signature, key ID 352c64e5: NOKEY<br/>Preparing...                          ################################# [100%]<br/>Updating / installing...<br/>   1:epel-release-7-0.2               ################################# [100%]<br/>[jtdub@pyrax-test ~]$ sudo yum -y install python-pip<br/>Loaded plugins: fastestmirror<br/>epel/x86_64/metalink                                                                                                                                              |  11 kB  00:00:00     <br/>epel                                                                                                                                                              | 3.7 kB  00:00:00     <br/>(1/2): epel/x86_64/group_gz                                                                                                                                       | 163 kB  00:00:00     <br/>(2/2): epel/x86_64/primary_db                                                                                                                                     | 2.1 MB  00:00:00     <br/>Loading mirror speeds from cached hostfile<br/> * base: centos.someimage.com<br/> * epel: mirrors.mit.edu<br/> * extras: mirrors.einstein.yu.edu<br/> * updates: centos.hostingxtreme.com<br/>Resolving Dependencies<br/>--&gt; Running transaction check<br/>---&gt; Package python-pip.noarch 0:1.3.1-4.el7 will be installed<br/>--&gt; Finished Dependency Resolution<br/><br/>Dependencies Resolved<br/><br/>=========================================================================================================================================================================================<br/> Package                                       Arch                                      Version                                           Repository                               Size<br/>=========================================================================================================================================================================================<br/>Installing:<br/> python-pip                                    noarch                                    1.3.1-4.el7                                       epel                                    315 k<br/><br/>Transaction Summary<br/>=========================================================================================================================================================================================<br/>Install  1 Package<br/><br/>Total download size: 315 k<br/>Installed size: 1.0 M<br/>Downloading packages:<br/>python-pip-1.3.1-4.el7.noarch.rpm                                                                                                                                 | 315 kB  00:00:00     <br/>Running transaction check<br/>Running transaction test<br/>Transaction test succeeded<br/>Running transaction<br/>Warning: RPMDB altered outside of yum.<br/>  Installing : python-pip-1.3.1-4.el7.noarch                                                                                                                                         1/1 <br/>  Verifying  : python-pip-1.3.1-4.el7.noarch                                                                                                                                         1/1 <br/><br/>Installed:<br/>  python-pip.noarch 0:1.3.1-4.el7                                                                                                                                                        <br/><br/>Complete!<br/>[jtdub@pyrax-test ~]$</pre><br/>Once that is installed, we can install the python module that we'll need, which is pyrax - which is the Rackspace Python SDK for their Cloud.<br/><pre class="lang:default decode:true ">[jtdub@pyrax-test ~]$ sudo pip install pyrax<br/>Downloading/unpacking pyrax<br/>  Downloading pyrax-1.9.0.tar.gz (308kB): 308kB downloaded<br/>  Running setup.py egg_info for package pyrax<br/>    <br/>Downloading/unpacking python-novaclient&gt;=2.13.0 (from pyrax)<br/>  Downloading python-novaclient-2.18.1.tar.gz (254kB): 254kB downloaded<br/>  Running setup.py egg_info for package python-novaclient<br/>    <br/>    Installed /tmp/pip-build-root/python-novaclient/pbr-0.10.0-py2.7.egg<br/>    [pbr] Processing SOURCES.txt<br/>    warning: LocalManifestMaker: standard file '-c' not found<br/>    <br/>    warning: no previously-included files found matching '.gitignore'<br/>    warning: no previously-included files found matching '.gitreview'<br/>    warning: no previously-included files matching '*.pyc' found anywhere in distribution<br/>    warning: no previously-included files found matching '.gitignore'<br/>    warning: no previously-included files found matching '.gitreview'<br/>Downloading/unpacking rackspace-novaclient (from pyrax)<br/>  Downloading rackspace-novaclient-1.4.tar.gz<br/>  Running setup.py egg_info for package rackspace-novaclient<br/>    <br/>Downloading/unpacking keyring (from pyrax)<br/>  Downloading keyring-3.8.zip (84kB): 84kB downloaded<br/>  Running setup.py egg_info for package keyring<br/>    <br/>    warning: no previously-included files found matching '.hg/last-message.txt'<br/>Downloading/unpacking requests&gt;=2.2.1 (from pyrax)<br/>  Downloading requests-2.3.0.tar.gz (429kB): 429kB downloaded<br/>  Running setup.py egg_info for package requests<br/>    <br/>Downloading/unpacking six&gt;=1.5.2 (from pyrax)<br/>  Downloading six-1.7.3.tar.gz<br/>  Running setup.py egg_info for package six<br/>    <br/>    no previously-included directories found matching 'documentation/_build'<br/>Downloading/unpacking mock (from pyrax)<br/>  Downloading mock-1.0.1.tar.gz (818kB): 818kB downloaded<br/>  Running setup.py egg_info for package mock<br/>    <br/>    warning: no files found matching '*.png' under directory 'docs'<br/>    warning: no files found matching '*.css' under directory 'docs'<br/>    warning: no files found matching '*.html' under directory 'docs'<br/>    warning: no files found matching '*.js' under directory 'docs'<br/>Downloading/unpacking pbr&gt;=0.6,!=0.7,&lt;1.0 (from python-novaclient&gt;=2.13.0-&gt;pyrax)<br/>  Downloading pbr-0.10.0.tar.gz (77kB): 77kB downloaded<br/>  Running setup.py egg_info for package pbr<br/>    [pbr] Processing SOURCES.txt<br/>    warning: LocalManifestMaker: standard file '-c' not found<br/>    <br/>    warning: no previously-included files found matching '.gitignore'<br/>    warning: no previously-included files found matching '.gitreview'<br/>    warning: no previously-included files matching '*.pyc' found anywhere in distribution<br/>    warning: no previously-included files found matching '.gitignore'<br/>    warning: no previously-included files found matching '.gitreview'<br/>    warning: no previously-included files matching '*.pyc' found anywhere in distribution<br/>Downloading/unpacking argparse (from python-novaclient&gt;=2.13.0-&gt;pyrax)<br/>  Downloading argparse-1.2.1.tar.gz (69kB): 69kB downloaded<br/>  Running setup.py egg_info for package argparse<br/>    <br/>    warning: no previously-included files matching '*.pyc' found anywhere in distribution<br/>    warning: no previously-included files matching '*.pyo' found anywhere in distribution<br/>    warning: no previously-included files matching '*.orig' found anywhere in distribution<br/>    warning: no previously-included files matching '*.rej' found anywhere in distribution<br/>    no previously-included directories found matching 'doc/_build'<br/>    no previously-included directories found matching 'env24'<br/>    no previously-included directories found matching 'env25'<br/>    no previously-included directories found matching 'env26'<br/>    no previously-included directories found matching 'env27'<br/>Downloading/unpacking iso8601&gt;=0.1.9 (from python-novaclient&gt;=2.13.0-&gt;pyrax)<br/>  Downloading iso8601-0.1.10.tar.gz<br/>  Running setup.py egg_info for package iso8601<br/>    <br/>Downloading/unpacking PrettyTable&gt;=0.7,&lt;0.8 (from python-novaclient&gt;=2.13.0-&gt;pyrax)<br/>  Downloading prettytable-0.7.2.tar.bz2<br/>  Running setup.py egg_info for package PrettyTable<br/>    <br/>Downloading/unpacking simplejson&gt;=2.0.9 (from python-novaclient&gt;=2.13.0-&gt;pyrax)<br/>  Downloading simplejson-3.6.0.tar.gz (70kB): 70kB downloaded<br/>  Running setup.py egg_info for package simplejson<br/>    <br/>Downloading/unpacking Babel&gt;=1.3 (from python-novaclient&gt;=2.13.0-&gt;pyrax)<br/>  Downloading Babel-1.3.tar.gz (3.4MB): 3.4MB downloaded<br/>  Running setup.py egg_info for package Babel<br/>    <br/>    warning: no previously-included files matching '*' found under directory 'docs/_build'<br/>    warning: no previously-included files matching '*.pyc' found under directory 'tests'<br/>    warning: no previously-included files matching '*.pyo' found under directory 'tests'<br/>Downloading/unpacking rackspace-auth-openstack (from rackspace-novaclient-&gt;pyrax)<br/>  Downloading rackspace-auth-openstack-1.3.tar.gz<br/>  Running setup.py egg_info for package rackspace-auth-openstack<br/>    <br/>Downloading/unpacking os-diskconfig-python-novaclient-ext (from rackspace-novaclient-&gt;pyrax)<br/>  Downloading os_diskconfig_python_novaclient_ext-0.1.2.tar.gz<br/>  Running setup.py egg_info for package os-diskconfig-python-novaclient-ext<br/>    <br/>Downloading/unpacking rax-scheduled-images-python-novaclient-ext (from rackspace-novaclient-&gt;pyrax)<br/>  Downloading rax_scheduled_images_python_novaclient_ext-0.2.2.tar.gz<br/>  Running setup.py egg_info for package rax-scheduled-images-python-novaclient-ext<br/>    <br/>Downloading/unpacking os-networksv2-python-novaclient-ext (from rackspace-novaclient-&gt;pyrax)<br/>  Downloading os_networksv2_python_novaclient_ext-0.21.tar.gz<br/>  Running setup.py egg_info for package os-networksv2-python-novaclient-ext<br/>    <br/>Downloading/unpacking os-virtual-interfacesv2-python-novaclient-ext (from rackspace-novaclient-&gt;pyrax)<br/>  Downloading os_virtual_interfacesv2_python_novaclient_ext-0.15.tar.gz<br/>  Running setup.py egg_info for package os-virtual-interfacesv2-python-novaclient-ext<br/>    <br/>Downloading/unpacking rax-default-network-flags-python-novaclient-ext (from rackspace-novaclient-&gt;pyrax)<br/>  Downloading rax_default_network_flags_python_novaclient_ext-0.2.4.tar.gz<br/>  Running setup.py egg_info for package rax-default-network-flags-python-novaclient-ext<br/>    <br/>Requirement already satisfied (use --upgrade to upgrade): pip in /usr/lib/python2.7/site-packages (from pbr&gt;=0.6,!=0.7,&lt;1.0-&gt;python-novaclient&gt;=2.13.0-&gt;pyrax)<br/>Downloading/unpacking pytz&gt;=0a (from Babel&gt;=1.3-&gt;python-novaclient&gt;=2.13.0-&gt;pyrax)<br/>  Downloading pytz-2014.4.tar.bz2 (159kB): 159kB downloaded<br/>  Running setup.py egg_info for package pytz<br/>    <br/>Installing collected packages: pyrax, python-novaclient, rackspace-novaclient, keyring, requests, six, mock, pbr, argparse, iso8601, PrettyTable, simplejson, Babel, rackspace-auth-openstack, os-diskconfig-python-novaclient-ext, rax-scheduled-images-python-novaclient-ext, os-networksv2-python-novaclient-ext, os-virtual-interfacesv2-python-novaclient-ext, rax-default-network-flags-python-novaclient-ext, pytz<br/>  Running setup.py install for pyrax<br/>    /usr/bin/python -O /tmp/tmpB0aWjs.py<br/>    removing /tmp/tmpB0aWjs.py<br/>    <br/>  Running setup.py install for python-novaclient<br/>    [pbr] Reusing existing SOURCES.txt<br/>    Installing nova script to /usr/bin<br/>  Running setup.py install for rackspace-novaclient<br/>    <br/>  Running setup.py install for keyring<br/>    <br/>    warning: no previously-included files found matching '.hg/last-message.txt'<br/>    Installing keyring script to /usr/bin<br/>  Running setup.py install for requests<br/>    <br/>  Running setup.py install for six<br/>    <br/>    no previously-included directories found matching 'documentation/_build'<br/>  Running setup.py install for mock<br/>    <br/>    warning: no files found matching '*.png' under directory 'docs'<br/>    warning: no files found matching '*.css' under directory 'docs'<br/>    warning: no files found matching '*.html' under directory 'docs'<br/>    warning: no files found matching '*.js' under directory 'docs'<br/>  Running setup.py install for pbr<br/>    [pbr] Reusing existing SOURCES.txt<br/>  Running setup.py install for argparse<br/>    <br/>    warning: no previously-included files matching '*.pyc' found anywhere in distribution<br/>    warning: no previously-included files matching '*.pyo' found anywhere in distribution<br/>    warning: no previously-included files matching '*.orig' found anywhere in distribution<br/>    warning: no previously-included files matching '*.rej' found anywhere in distribution<br/>    no previously-included directories found matching 'doc/_build'<br/>    no previously-included directories found matching 'env24'<br/>    no previously-included directories found matching 'env25'<br/>    no previously-included directories found matching 'env26'<br/>    no previously-included directories found matching 'env27'<br/>  Running setup.py install for iso8601<br/>    <br/>  Running setup.py install for PrettyTable<br/>    <br/>  Running setup.py install for simplejson<br/>    building 'simplejson._speedups' extension<br/>    gcc -pthread -fno-strict-aliasing -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv -DNDEBUG -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -m64 -mtune=generic -D_GNU_SOURCE -fPIC -fwrapv -fPIC -I/usr/include/python2.7 -c simplejson/_speedups.c -o build/temp.linux-x86_64-2.7/simplejson/_speedups.o<br/>    unable to execute gcc: No such file or directory<br/>    ***************************************************************************<br/>    WARNING: The C extension could not be compiled, speedups are not enabled.<br/>    Failure information, if any, is above.<br/>    I'm retrying the build without the C extension now.<br/>    ***************************************************************************<br/>    <br/>    ***************************************************************************<br/>    WARNING: The C extension could not be compiled, speedups are not enabled.<br/>    Plain-Python installation succeeded.<br/>    ***************************************************************************<br/>  Running setup.py install for Babel<br/>    <br/>    warning: no previously-included files matching '*' found under directory 'docs/_build'<br/>    warning: no previously-included files matching '*.pyc' found under directory 'tests'<br/>    warning: no previously-included files matching '*.pyo' found under directory 'tests'<br/>    Installing pybabel script to /usr/bin<br/>  Running setup.py install for rackspace-auth-openstack<br/>    <br/>  Running setup.py install for os-diskconfig-python-novaclient-ext<br/>    <br/>  Running setup.py install for rax-scheduled-images-python-novaclient-ext<br/>    <br/>  Running setup.py install for os-networksv2-python-novaclient-ext<br/>    <br/>  Running setup.py install for os-virtual-interfacesv2-python-novaclient-ext<br/>    <br/>  Running setup.py install for rax-default-network-flags-python-novaclient-ext<br/>    <br/>  Running setup.py install for pytz<br/>    <br/>Successfully installed pyrax python-novaclient rackspace-novaclient keyring requests six mock pbr argparse iso8601 PrettyTable simplejson Babel rackspace-auth-openstack os-diskconfig-python-novaclient-ext rax-scheduled-images-python-novaclient-ext os-networksv2-python-novaclient-ext os-virtual-interfacesv2-python-novaclient-ext rax-default-network-flags-python-novaclient-ext pytz<br/>Cleaning up...<br/></pre><br/>Once you've installed the needed modules, you can verify that they are available for use.<br/><pre class="lang:default decode:true ">[jtdub@pyrax-test ~]$ python<br/>Python 2.7.5 (default, Jun 17 2014, 18:11:42) <br/>[GCC 4.8.2 20140120 (Red Hat 4.8.2-16)] on linux2<br/>Type "help", "copyright", "credits" or "license" for more information.<br/>&gt;&gt;&gt; import pyrax<br/>&gt;&gt;&gt; dir(pyrax)<br/>['AutoScaleClient', 'CloudBlockStorageClient', 'CloudDNSClient', 'CloudDatabaseClient', 'CloudLoadBalancerClient', 'CloudMonitorClient', 'CloudNetworkClient', 'CloudServer', 'ConfigParser', 'ImageClient', 'QueueClient', 'Settings', 'StorageClient', 'USER_AGENT', '__builtins__', '__doc__', '__file__', '__name__', '__package__', '__path__', '_assure_identity', '_client_classes', '_create_client', '_create_identity', '_cs_auth_plugin', '_cs_client', '_cs_exceptions', '_cs_shell', '_environment', '_get_service_endpoint', '_http_debug', '_id_type', '_import_identity', '_logger', '_make_agent_name', '_require_auth', '_safe_region', 'absolute_import', 'auth_with_token', 'authenticate', 'autoscale', 'base_identity', 'clear_credentials', 'client', 'client_class_for_service', 'cloud_blockstorage', 'cloud_databases', 'cloud_dns', 'cloud_loadbalancers', 'cloud_monitoring', 'cloud_networks', 'cloudblockstorage', 'clouddatabases', 'clouddns', 'cloudfiles', 'cloudloadbalancers', 'cloudmonitoring', 'cloudnetworks', 'cloudservers', 'config_file', 'connect_to_autoscale', 'connect_to_cloud_blockstorage', 'connect_to_cloud_databases', 'connect_to_cloud_dns', 'connect_to_cloud_loadbalancers', 'connect_to_cloud_monitoring', 'connect_to_cloud_networks', 'connect_to_cloudfiles', 'connect_to_cloudservers', 'connect_to_images', 'connect_to_queues', 'connect_to_services', 'create_context', 'default_encoding', 'default_region', 'exc', 'exceptions', 'get_encoding', 'get_environment', 'get_http_debug', 'get_setting', 'http', 'identity', 'image', 'images', 'inspect', 'keyring', 'keyring_auth', 'keystone_identity', 'list_environments', 'logging', 'manager', 'object_storage', 'os', 'queueing', 'queues', 'rax_identity', 're', 'regions', 'resource', 'services', 'set_credential_file', 'set_credentials', 'set_default_region', 'set_environment', 'set_http_debug', 'set_setting', 'settings', 'utils', 'version', 'warnings', 'wraps']<br/>&gt;&gt;&gt; import urllib<br/>&gt;&gt;&gt; dir(urllib)<br/>['ContentTooShortError', 'FancyURLopener', 'MAXFTPCACHE', 'URLopener', '__all__', '__builtins__', '__doc__', '__file__', '__name__', '__package__', '__version__', '_asciire', '_ftperrors', '_have_ssl', '_hexdig', '_hextochr', '_hostprog', '_is_unicode', '_localhost', '_noheaders', '_nportprog', '_passwdprog', '_portprog', '_queryprog', '_safe_map', '_safe_quoters', '_tagprog', '_thishost', '_typeprog', '_urlopener', '_userprog', '_valueprog', 'addbase', 'addclosehook', 'addinfo', 'addinfourl', 'always_safe', 'base64', 'basejoin', 'c', 'ftpcache', 'ftperrors', 'ftpwrapper', 'getproxies', 'getproxies_environment', 'i', 'localhost', 'noheaders', 'os', 'pathname2url', 'proxy_bypass', 'proxy_bypass_environment', 'quote', 'quote_plus', 're', 'reporthook', 'socket', 'splitattr', 'splithost', 'splitnport', 'splitpasswd', 'splitport', 'splitquery', 'splittag', 'splittype', 'splituser', 'splitvalue', 'ssl', 'string', 'sys', 'test1', 'thishost', 'time', 'toBytes', 'unquote', 'unquote_plus', 'unwrap', 'url2pathname', 'urlcleanup', 'urlencode', 'urlopen', 'urlretrieve']<br/>&gt;&gt;&gt; import socket<br/>&gt;&gt;&gt; dir(socket)<br/>['AF_APPLETALK', 'AF_ASH', 'AF_ATMPVC', 'AF_ATMSVC', 'AF_AX25', 'AF_BLUETOOTH', 'AF_BRIDGE', 'AF_DECnet', 'AF_ECONET', 'AF_INET', 'AF_INET6', 'AF_IPX', 'AF_IRDA', 'AF_KEY', 'AF_LLC', 'AF_NETBEUI', 'AF_NETLINK', 'AF_NETROM', 'AF_PACKET', 'AF_PPPOX', 'AF_ROSE', 'AF_ROUTE', 'AF_SECURITY', 'AF_SNA', 'AF_TIPC', 'AF_UNIX', 'AF_UNSPEC', 'AF_WANPIPE', 'AF_X25', 'AI_ADDRCONFIG', 'AI_ALL', 'AI_CANONNAME', 'AI_NUMERICHOST', 'AI_NUMERICSERV', 'AI_PASSIVE', 'AI_V4MAPPED', 'BDADDR_ANY', 'BDADDR_LOCAL', 'BTPROTO_HCI', 'BTPROTO_L2CAP', 'BTPROTO_RFCOMM', 'BTPROTO_SCO', 'CAPI', 'EAI_ADDRFAMILY', 'EAI_AGAIN', 'EAI_BADFLAGS', 'EAI_FAIL', 'EAI_FAMILY', 'EAI_MEMORY', 'EAI_NODATA', 'EAI_NONAME', 'EAI_OVERFLOW', 'EAI_SERVICE', 'EAI_SOCKTYPE', 'EAI_SYSTEM', 'EBADF', 'EINTR', 'HCI_DATA_DIR', 'HCI_FILTER', 'HCI_TIME_STAMP', 'INADDR_ALLHOSTS_GROUP', 'INADDR_ANY', 'INADDR_BROADCAST', 'INADDR_LOOPBACK', 'INADDR_MAX_LOCAL_GROUP', 'INADDR_NONE', 'INADDR_UNSPEC_GROUP', 'IPPORT_RESERVED', 'IPPORT_USERRESERVED', 'IPPROTO_AH', 'IPPROTO_DSTOPTS', 'IPPROTO_EGP', 'IPPROTO_ESP', 'IPPROTO_FRAGMENT', 'IPPROTO_GRE', 'IPPROTO_HOPOPTS', 'IPPROTO_ICMP', 'IPPROTO_ICMPV6', 'IPPROTO_IDP', 'IPPROTO_IGMP', 'IPPROTO_IP', 'IPPROTO_IPIP', 'IPPROTO_IPV6', 'IPPROTO_NONE', 'IPPROTO_PIM', 'IPPROTO_PUP', 'IPPROTO_RAW', 'IPPROTO_ROUTING', 'IPPROTO_RSVP', 'IPPROTO_TCP', 'IPPROTO_TP', 'IPPROTO_UDP', 'IPV6_CHECKSUM', 'IPV6_DSTOPTS', 'IPV6_HOPLIMIT', 'IPV6_HOPOPTS', 'IPV6_JOIN_GROUP', 'IPV6_LEAVE_GROUP', 'IPV6_MULTICAST_HOPS', 'IPV6_MULTICAST_IF', 'IPV6_MULTICAST_LOOP', 'IPV6_NEXTHOP', 'IPV6_PKTINFO', 'IPV6_RECVDSTOPTS', 'IPV6_RECVHOPLIMIT', 'IPV6_RECVHOPOPTS', 'IPV6_RECVPKTINFO', 'IPV6_RECVRTHDR', 'IPV6_RECVTCLASS', 'IPV6_RTHDR', 'IPV6_RTHDRDSTOPTS', 'IPV6_RTHDR_TYPE_0', 'IPV6_TCLASS', 'IPV6_UNICAST_HOPS', 'IPV6_V6ONLY', 'IP_ADD_MEMBERSHIP', 'IP_DEFAULT_MULTICAST_LOOP', 'IP_DEFAULT_MULTICAST_TTL', 'IP_DROP_MEMBERSHIP', 'IP_HDRINCL', 'IP_MAX_MEMBERSHIPS', 'IP_MULTICAST_IF', 'IP_MULTICAST_LOOP', 'IP_MULTICAST_TTL', 'IP_OPTIONS', 'IP_RECVOPTS', 'IP_RECVRETOPTS', 'IP_RETOPTS', 'IP_TOS', 'IP_TTL', 'MSG_CTRUNC', 'MSG_DONTROUTE', 'MSG_DONTWAIT', 'MSG_EOR', 'MSG_OOB', 'MSG_PEEK', 'MSG_TRUNC', 'MSG_WAITALL', 'MethodType', 'NETLINK_DNRTMSG', 'NETLINK_FIREWALL', 'NETLINK_IP6_FW', 'NETLINK_NFLOG', 'NETLINK_ROUTE', 'NETLINK_USERSOCK', 'NETLINK_XFRM', 'NI_DGRAM', 'NI_MAXHOST', 'NI_MAXSERV', 'NI_NAMEREQD', 'NI_NOFQDN', 'NI_NUMERICHOST', 'NI_NUMERICSERV', 'PACKET_BROADCAST', 'PACKET_FASTROUTE', 'PACKET_HOST', 'PACKET_LOOPBACK', 'PACKET_MULTICAST', 'PACKET_OTHERHOST', 'PACKET_OUTGOING', 'PF_PACKET', 'RAND_add', 'RAND_egd', 'RAND_status', 'SHUT_RD', 'SHUT_RDWR', 'SHUT_WR', 'SOCK_DGRAM', 'SOCK_RAW', 'SOCK_RDM', 'SOCK_SEQPACKET', 'SOCK_STREAM', 'SOL_HCI', 'SOL_IP', 'SOL_SOCKET', 'SOL_TCP', 'SOL_TIPC', 'SOL_UDP', 'SOMAXCONN', 'SO_ACCEPTCONN', 'SO_ATTACH_FILTER', 'SO_BINDTODEVICE', 'SO_BROADCAST', 'SO_BSDCOMPAT', 'SO_DEBUG', 'SO_DETACH_FILTER', 'SO_DONTROUTE', 'SO_ERROR', 'SO_KEEPALIVE', 'SO_LINGER', 'SO_NO_CHECK', 'SO_OOBINLINE', 'SO_PASSCRED', 'SO_PASSSEC', 'SO_PEERCRED', 'SO_PEERNAME', 'SO_PEERSEC', 'SO_PRIORITY', 'SO_RCVBUF', 'SO_RCVBUFFORCE', 'SO_RCVLOWAT', 'SO_RCVTIMEO', 'SO_REUSEADDR', 'SO_REUSEPORT', 'SO_SECURITY_AUTHENTICATION', 'SO_SECURITY_ENCRYPTION_NETWORK', 'SO_SECURITY_ENCRYPTION_TRANSPORT', 'SO_SNDBUF', 'SO_SNDBUFFORCE', 'SO_SNDLOWAT', 'SO_SNDTIMEO', 'SO_TIMESTAMP', 'SO_TIMESTAMPNS', 'SO_TYPE', 'SSL_ERROR_EOF', 'SSL_ERROR_INVALID_ERROR_CODE', 'SSL_ERROR_SSL', 'SSL_ERROR_SYSCALL', 'SSL_ERROR_WANT_CONNECT', 'SSL_ERROR_WANT_READ', 'SSL_ERROR_WANT_WRITE', 'SSL_ERROR_WANT_X509_LOOKUP', 'SSL_ERROR_ZERO_RETURN', 'SocketType', 'StringIO', 'TCP_CONGESTION', 'TCP_CORK', 'TCP_DEFER_ACCEPT', 'TCP_INFO', 'TCP_KEEPCNT', 'TCP_KEEPIDLE', 'TCP_KEEPINTVL', 'TCP_LINGER2', 'TCP_MAXSEG', 'TCP_MD5SIG', 'TCP_MD5SIG_MAXKEYLEN', 'TCP_NODELAY', 'TCP_QUICKACK', 'TCP_SYNCNT', 'TCP_WINDOW_CLAMP', 'TIPC_ADDR_ID', 'TIPC_ADDR_NAME', 'TIPC_ADDR_NAMESEQ', 'TIPC_CFG_SRV', 'TIPC_CLUSTER_SCOPE', 'TIPC_CONN_TIMEOUT', 'TIPC_CRITICAL_IMPORTANCE', 'TIPC_DEST_DROPPABLE', 'TIPC_HIGH_IMPORTANCE', 'TIPC_IMPORTANCE', 'TIPC_LOW_IMPORTANCE', 'TIPC_MEDIUM_IMPORTANCE', 'TIPC_NODE_SCOPE', 'TIPC_PUBLISHED', 'TIPC_SRC_DROPPABLE', 'TIPC_SUBSCR_TIMEOUT', 'TIPC_SUB_CANCEL', 'TIPC_SUB_PORTS', 'TIPC_SUB_SERVICE', 'TIPC_TOP_SRV', 'TIPC_WAIT_FOREVER', 'TIPC_WITHDRAWN', 'TIPC_ZONE_SCOPE', '_GLOBAL_DEFAULT_TIMEOUT', '__all__', '__builtins__', '__doc__', '__file__', '__name__', '__package__', '_closedsocket', '_delegate_methods', '_fileobject', '_m', '_realsocket', '_socket', '_socketmethods', '_socketobject', '_ssl', 'create_connection', 'errno', 'error', 'fromfd', 'gaierror', 'getaddrinfo', 'getdefaulttimeout', 'getfqdn', 'gethostbyaddr', 'gethostbyname', 'gethostbyname_ex', 'gethostname', 'getnameinfo', 'getprotobyname', 'getservbyname', 'getservbyport', 'has_ipv6', 'herror', 'htonl', 'htons', 'inet_aton', 'inet_ntoa', 'inet_ntop', 'inet_pton', 'm', 'meth', 'ntohl', 'ntohs', 'os', 'p', 'partial', 'setdefaulttimeout', 'socket', 'socketpair', 'ssl', 'sslerror', 'sys', 'timeout', 'warnings']</pre><br/>In my example, I'm going to use the hostname of myhomepc.jtdub.com, which points to 192.168.1.1. While still in the python prompt, I'm going to call the pyrax module to get the {record_id}, which in this example output is id: 'A-2222222'.<br/><pre class="lang:default decode:true">&gt;&gt;&gt; import pyrax<br/>&gt;&gt;&gt; pyrax.set_setting('identity_type', 'rackspace')<br/>&gt;&gt;&gt; pyrax.set_credentials('{username}', '{api_key}')<br/>&gt;&gt;&gt; domain = pyrax.cloud_dns.find(name="jtdub.com")<br/>&gt;&gt;&gt; record = domain.get_record('')<br/>&gt;&gt;&gt; print record<br/>&lt;CloudDNSRecord domain_id=0000000, records=[{u'updated': u'2013-07-31T06:17:35.000+0000', u'name': u'www.jtdub.com', u'created': u'2012-06-07T23:56:27.000+0000', u'type': u'A', u'ttl': 300, u'data': u'174.143.185.156', u'id': u'A-0000000'}, {u'updated': u'2013-07-31T06:17:44.000+0000', u'name': u'jtdub.com', u'created': u'2012-06-07T23:58:31.000+0000', u'type': u'A', u'ttl': 300, u'data': u'174.143.185.156', u'id': u'A-1111111'}, {u'updated': u'2014-07-26T21:37:24.000+0000', u'name': u'myhomepc.jtdub.com', u'created': u'2014-07-26T21:37:24.000+0000', u'type': u'A', u'ttl': 300, u'data': u'192.168.1.1', u'id': u'A-2222222'},}], totalEntries=13&gt;<br/>&gt;&gt;&gt;<br/>&gt;&gt;&gt; record = domain.get_record('A-2222222')<br/>&gt;&gt;&gt; print record<br/>&lt;CloudDNSRecord data=192.168.1.1, domain_id=0000000, id=A-2222222, name=myhomepc.jtdub.com, ttl=300, type=A&gt;</pre><br/>Replace {username} and {api_key} with your rackspace cloud account username and api key. Now that we have the necessary information, we can edit the variables of the script and run it!<br/><pre class="lang:default decode:true ">[jtdub@pyrax-test ~]$ git clone https://github.com/jtdub/pyraxDynDNS.git<br/>Cloning into 'pyraxDynDNS'...<br/>remote: Counting objects: 13, done.<br/>remote: Compressing objects: 100% (12/12), done.<br/>remote: Total 13 (delta 3), reused 6 (delta 1)<br/>Unpacking objects: 100% (13/13), done.<br/>[jtdub@pyrax-test ~]$ cd pyraxDynDNS/<br/>[jtdub@pyrax-test pyraxDynDNS]$ vim pyraxDynDNS.py<br/>[jtdub@pyrax-test pyraxDynDNS]$ chmod +x pyraxDynDNS.py<br/></pre><br/>Here's my first run of the script. Here you can see that it determines my public IP Address, then determines the DNS A record of my {dyn_domain} hostname. As they are different, it authenticates to the API and makes a call to update the DNS A record of myhomepc.jtdub.com with my current public IP Address.<br/><pre class="lang:default decode:true">[jtdub@pyrax-test pyraxDynDNS]$ ./pyraxDynDNS.py<br/>*** Current IP Address: 240.0.0.1<br/>*** Current IP Address: 240.0.0.1<br/>*** DNS A Record of myhomepc.jtdub.com: 192.168.1.1<br/>*** Username: {username}, API_Key: {api_key}<br/>*** Domain Name: jtdub.com, Record Id: A-2222222<br/>*** Updated IP Address: 240.0.0.1<br/></pre><br/>I gave DNS a five minutes to update, then I ran the script again. This time, the script determined that my current public IP Address is the same as my DNS A record of myhomepc.jtdub.com, so it didn't even attempt to authenticate to the API to make any changes.<br/><pre class="lang:default decode:true  ">[jtdub@pyrax-test pyraxDynDNS]$ ./pyraxDynDNS.py <br/>*** Current IP Address: 240.0.0.1<br/>*** Current IP Address: 240.0.0.1<br/>*** DNS A Record of myhomepc.jtdub.com: 240.0.0.1<br/>*** 240.0.0.1 is already current for myhomepc.jtdub.com. Nothing to do.<br/></pre><br/>Pretty nifty, right? From here, you can put the script into a cron job to run once a day, or however often you want. There you go! Custom dynamic DNS hostname, to access your home PC, using the Rackspace Cloud!<br/><br/>The script can be found on <a href="https://github.com/jtdub/pyraxDynDNS" target="_blank">github.com</a>.<br/><br/>Here is more information on the <a href="https://developer.rackspace.com/docs/cloud-dns/getting-started/?lang=python" target="_blank">Rackspace SDK</a>.