---
layout: post
title: 'RHCE Series: DNS'
date: '2012-10-26T17:19:00.001-05:00'
author: jtdub
tags:
- Linux
- RHCE Study Notes
- DNS
- Bind
modified_time: '2019-04-11T11:09:49.767-05:00'
blogger_id: tag:blogger.com,1999:blog-2200496390325245811.post-3937025862304586578
blogger_orig_url: https://www.packetgeek.net/2012/10/rhce-series-dns_26.html
---

<ul><br/>	<li>Configure a caching-only name server.</li><br/>	<li>Configure a caching-only name server to forward DNS queries.</li><br/>	<li>Note: Candidates are not expected to configure master or slave name servers.</li><br/></ul><br/>Install bind:<br/><br/><span style="background-color: lime;">yum -y install bind</span><br/><br/>Setup caching-only name server with forwarders.<br/><br/>&nbsp;<br/><pre class="crayon-selected">[root@server1 etc]# cat named.conf<br/>//<br/>// named.conf<br/>//<br/>// Provided by Red Hat bind package to configure the ISC BIND named(8) DNS<br/>// server as a caching only nameserver (as a localhost DNS resolver only).<br/>//<br/>// See /usr/share/doc/bind*/sample/ for example named configuration files.<br/>//<br/><br/>options {<br/> listen-on port 53 { any; }; //listen on any network<br/> listen-on-v6 port 53 { any; }; //listen on any network<br/> directory  "/var/named";<br/> dump-file  "/var/named/data/cache_dump.db";<br/>        statistics-file "/var/named/data/named_stats.txt";<br/>        memstatistics-file "/var/named/data/named_mem_stats.txt";<br/> allow-query     { 192.168.1.0/24; }; //define who to allow queries from<br/> forwarders { 8.8.8.8; }; //add this line to forward queries<br/> recursion yes;<br/><br/> dnssec-enable yes;<br/> dnssec-validation yes;<br/> dnssec-lookaside auto;<br/><br/> /* Path to ISC DLV key */<br/> bindkeys-file "/etc/named.iscdlv.key";<br/><br/> managed-keys-directory "/var/named/dynamic";<br/>};<br/><br/>logging {<br/>        channel default_debug {<br/>                file "data/named.run";<br/>                severity dynamic;<br/>        };<br/>};<br/><br/>zone "." IN {<br/> type hint;<br/> file "named.ca";<br/>};<br/><br/>include "/etc/named.rfc1912.zones";<br/>include "/etc/named.root.key";</pre><br/>Open up the firewall:<br/><br/><span style="background-color: lime;">iptables -I INPUT -p udp --dport 53 -j ACCEPT</span><br/><span style="background-color: lime;">service iptables save</span><br/><br/>Start the service and make it persistent at boot:<br/><br/><span style="background-color: lime;">service named start</span><br/><span style="background-color: lime;">chkconfig named on</span>