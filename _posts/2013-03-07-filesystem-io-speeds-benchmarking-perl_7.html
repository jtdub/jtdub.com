---
layout: post
title: Filesystem I/O Speeds Benchmarking Perl Script
date: '2013-03-07T07:55:00.001-06:00'
author: jtdub
tags:
- Linux
- Filesystems
- Perl Tips
modified_time: '2019-04-11T11:09:56.327-05:00'
blogger_id: tag:blogger.com,1999:blog-2200496390325245811.post-5154133577658384581
blogger_orig_url: https://www.packetgeek.net/2013/03/filesystem-io-speeds-benchmarking-perl_7.html
---

I wrote a quick perl script to test the read and write speeds of a file system in Linux. Below is the contents of the script.<br/><pre class="lang:default decode:true ">jtdub@db1 ~]$ cat iobenchmark.pl <br/>#!/usr/bin/perl<br/><br/>use strict;<br/>use warnings;<br/><br/>my $ioFilePath = "/home/jtdub/iofile";<br/>my $testNumber = "1";<br/>my $ioStatsFile = "/home/jtdub/iostats.txt";<br/>my $testLength = "10";<br/><br/>if(-e $ioStatsFile) {<br/>	`rm -f $ioStatsFile`;<br/>}<br/><br/>while ($testNumber &lt;= $testLength) {<br/>	if(-e $ioFilePath) {<br/>		print "Removing $ioFilePath before starting the test. Test: $testNumber.\n";<br/>		`rm -f $ioFilePath`;<br/>	}<br/>	open(STATS, "&gt;&gt; $ioStatsFile");<br/>		print STATS "-----------------------------------------\n";<br/>		print STATS "\nTesting write speeds. Test: $testNumber.\n\n";<br/>		print STATS `dd if=/dev/zero of=$ioFilePath bs=1M count=500 2&gt;&gt; $ioStatsFile`;<br/>		print STATS "\nTesting read speeds. Test $testNumber.\n\n";<br/>		print STATS `dd if=$ioFilePath of=/dev/zero 2&gt;&gt; $ioStatsFile`;<br/>		print STATS "-----------------------------------------\n\n";<br/>	$testNumber++;		<br/>}<br/>close(STATS);</pre><br/>&nbsp;