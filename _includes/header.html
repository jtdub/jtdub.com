<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/monokai-sublime.css">
    <link rel="stylesheet" href="/assets/css/custom.css">

    <title>{{ page.title }}{% if page.title %} – {% endif %}James Williams</title>
    
    <!-- SEO and Social Media Meta Tags -->
    <meta name="description" content="{% if page.summary %}{{ page.summary }}{% elsif page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}{% else %}Anthropologist, archaeologist, and software developer exploring human-environment interactions through fieldwork, research, and technology.{% endif %}">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="{% if page.title %}{{ page.title }} – James Williams{% else %}James Williams{% endif %}" />
    <meta property="og:description" content="{% if page.summary %}{{ page.summary }}{% elsif page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}{% else %}Anthropologist, archaeologist, and software developer exploring human-environment interactions through fieldwork, research, and technology.{% endif %}" />
    <meta property="og:image" content="{% if page.hero %}{{ site.url }}{{ page.hero }}{% else %}{{ site.url }}/images/og-default.jpg{% endif %}" />
    <meta property="og:url" content="{{ site.url }}{{ page.url }}" />
    <meta property="og:type" content="{% if page.layout == 'post' %}article{% else %}website{% endif %}" />
    <meta property="og:site_name" content="James Williams" />
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="{% if page.title %}{{ page.title }} – James Williams{% else %}James Williams{% endif %}" />
    <meta name="twitter:description" content="{% if page.summary %}{{ page.summary }}{% elsif page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}{% else %}Anthropologist, archaeologist, and software developer exploring human-environment interactions through fieldwork, research, and technology.{% endif %}" />
    <meta name="twitter:image" content="{% if page.hero %}{{ site.url }}{{ page.hero }}{% else %}{{ site.url }}/images/og-default.jpg{% endif %}" />
    
    <!-- Additional Meta Tags -->
    <meta name="author" content="James Williams" />
    {% if page.tags %}<meta name="keywords" content="{{ page.tags | join: ', ' }}" />{% endif %}
    
    <!-- Canonical URL -->
    <link rel="canonical" href="{{ site.url }}{{ page.url }}" />
    
    <!-- RSS Feed -->
    <link rel="alternate" type="application/rss+xml" title="James Williams" href="{{ site.url }}/feed.xml" />
    
    <!-- Structured Data (Schema.org) -->
    {% if page.url == "/" %}
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "James Williams",
      "url": "https://www.jtdub.com",
      "jobTitle": "Anthropology Researcher; Senior Network Automation Engineer",
      "description": "Anthropologist, archaeologist, and software developer exploring human-environment interactions through fieldwork, research, and technology.",
      "affiliation": [
      ],
      "sameAs": [
        "https://www.linkedin.com/in/jtdub/",
        "https://github.com/jtdub"
      ],
      "knowsAbout": [
        "Anthropology",
        "Archaeology", 
        "Underwater Archaeology",
        "Network Automation",
        "Python Programming",
        "Environmental Science",
        "Scientific Diving"
      ],
      "alumniOf": {
        "@type": "Organization",
        "name": "Southern New Hampshire University"
      },
      "worksFor": {
        "@type": "Organization",
        "name": "Independent Researcher"
      }
    }
    </script>
    {% elsif page.url == "/publications/" %}
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "ItemList",
      "name": "Publications by James Williams",
      "description": "Research publications and articles documenting exploration, archaeology, and scientific findings.",
      "author": {
        "@type": "Person",
        "name": "James Williams"
      },
      "itemListElement": [
        {% for publication in site.data.publications %}
        {
          "@type": "ScholarlyArticle",
          "position": {{ forloop.index }},
          "headline": "{{ publication.title }}",
          "author": {
            "@type": "Person",
            "name": "James Williams"
          },
          "isPartOf": {
            "@type": "PublicationVolume",
            "name": "{{ publication.publication }}"{% if publication.volume %},
            "volumeNumber": "{{ publication.volume }}"{% endif %}
          },
          "datePublished": "{{ publication.date }}",
          {% if publication.pages and publication.pages != "" %}"pagination": "{{ publication.pages }}",{% endif %}
          {% if publication.url %}"url": "{{ publication.url }}",{% endif %}
          {% if publication.pdf %}"distribution": {
            "@type": "DataDownload",
            "contentUrl": "{{ publication.pdf }}",
            "encodingFormat": "application/pdf"
          },{% endif %}
          "description": "{{ publication.description }}",
          "about": "{{ publication.impact }}"
        }{% unless forloop.last %},{% endunless %}
        {% endfor %}
      ]
    }
    </script>
    {% endif %}

    </head>
    <body{% if page.body_class %} class="{{ page.body_class }}"{% endif %}>

        <nav class="navbar navbar-expand-lg navbar navbar-dark bg-primary sticky-top" role="navigation" aria-label="Main navigation">
            <div class="container-fluid">
              <a class="navbar-brand" href="/" aria-label="James Williams homepage">James Williams</a>
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation menu">
                <span class="navbar-toggler-icon"></span>
              </button>
              <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                  <li class="nav-item">
                    <a class="nav-link" href="/about/">About</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="/research/">Research</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="/publications/">Publications</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="/opensource/">Open Source</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="/photography/">Photography</a>
                  </li>
                  <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false">Writing</a>
                    <ul class="dropdown-menu">
                      <li><a class="dropdown-item" href="/technology/">Technology</a></li>
                      <li><a class="dropdown-item" href="/writing/essays/">Essays</a></li>
                      <li><hr class="dropdown-divider"></li>
                      <li><a class="dropdown-item" href="/archive/">Archive</a></li>
                    </ul>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="/contact/">Contact / CV</a>
                  </li>
                </ul>
                <form class="d-flex" id="search-form" action="/search/" method="get">
                  <input id="search-input" name="q" class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                  <button class="btn btn-outline-light" type="submit">Search</button>
                </form>
              </div>
            </div>
        </nav>
